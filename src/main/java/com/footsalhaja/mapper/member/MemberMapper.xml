<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="com.footsalhaja.mapper.member.MemberMapper">
	<!-- 회원정보 저장 -->
	<insert id="insertMember">
		INSERT INTO member 
			(  userId,   name,    password,    nickName,    email,    birthYY,    birthMM,    birthDD,    activityArea,    phone,     personalGender,    permission  )
		VALUES
			(#{userId}, #{name}, #{password}, #{nickName}, #{email}, #{birthYY}, #{birthMM}, #{birthDD}, #{activityArea}, #{phone},  #{personalGender}, #{permission} )
	</insert>
 	
 	
 	<update id="updateMemberInfoByUserId">
 		UPDATE member
 		SET 	 		
	 		password = #{password},
	 		nickName = #{nickName},
	 		email = #{email},
	 		phone = #{phone}
	 	WHERE
	 		userId = #{userId}	 			 		
 	</update>
 	
 	<!-- 모든 회원정보 List로 가져오기 -->
 	<select id="selectMemberList" resultType="com.footsalhaja.domain.member.MemberDto">
 	SELECT 
 		userId,
 		name,
 		password,
 		nickName,
 		email,
 		birthYY,
 		birthMM,
 		birthDD,
 		activityArea,
 		phone,
 		personalGender,
 		permission
 	FROM
 		member
 	ORDER BY name	
 	</select>
 	
 	<!-- userId 로 하나의 회원정보 가져오기 -->
 	<select id="selectMemberInfoByUserId" resultType="com.footsalhaja.domain.member.MemberDto">
	SELECT 
		userId,
		name,
		password,
		nickName,
		email,
		birthYY,
		birthMM,
		birthDD,
		activityArea,
		phone,
		personalGender,
		permission
	FROM
		member
	WHERE
		userId = #{userId}
	</select>
	
 	<!-- 회원탈퇴 member ByUserId -->
 	<delete id="deleteMemberInfoByUserId">
	 	DELETE FROM member
	 	WHERE userId = #{userId}
 	</delete>
 	<!-- 회원탈퇴 FK Authority ByUserId -->
 	<delete id="deleteAuthorityByUserId">
 		DELETE FROM authority
	 	WHERE userId = #{userId}
 	</delete>
 	
 </mapper>